<!DOCTYPE html>
<html lang="ko">
<head>
<meta charset="UTF-8" />
<meta http-equiv="X-UA-Compatible" content="IE=edge" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<title>toggleBtn</title>
<link rel="stylesheet" href="style.css">
<script src="https://cdn.tailwindcss.com"></script>
</head>

<body>
<div id="app" class="antialiased font-sans flex justify-center mt-8">
    <div class="fixed inset-0" id="overlay"></div>
    <div class="relative inline-block" tabindex="0">
    <button type="button" id="toggleBtn" class="inline-flex items-center justify-between px-2 py-1 font-medium text-gray-700 rounded-md ">
        <span class="flex-shrink-0 ">언어</span>
        <span class="text-[12px]"> &nbsp ▼ </span>
    </button>

    <div id="dropdown" class="absolute pt-3 transition duration-300 ease-out transform -translate-y-1 scale-95 opacity-0">
        <div class="relative py-1 bg-white border border-gray-200 rounded-md shadow-xl">
        <div class="absolute top-0 w-4 h-4 origin-center transform rotate-45 translate-x-5 -translate-y-2 bg-white border-t border-l border-gray-200 rounded-sm pointer-events-none"></div>
        <div class="relative">
            <a href="#" class="block w-full px-4 py-2 font-medium text-gray-700 whitespace-no-wrap hover:bg-gray-100 focus:outline-none hover:text-gray-900 focus:text-gray-900 focus:shadow-outline transition duration-300 ease-in-out">KOR</a>
            <a href="#" class="block w-full px-4 py-2 font-medium text-gray-700 whitespace-no-wrap hover:bg-gray-100 focus:outline-none hover:text-gray-900 focus:text-gray-900 focus:shadow-outline transition duration-300 ease-in-out">ENG</a>
        </div>
        </div>
    </div>
    </div>
</div>

<script>
    let isVisible = false;
    let toggleBtn = document.getElementById("toggleBtn");
    let myTransition = document.getElementById("dropdown");

    function showDropdown(isShow) {
    if (isShow) {
        myTransition.classList.remove("scale-95", "opacity-0", "translate-y-2", "pointer-events-none");
    } else {
        myTransition.classList.add("scale-95", "opacity-0", "translate-y-2", "pointer-events-none");
    }
    }

    function toggleVisibility(show) {
    isVisible = show;
    if (isVisible) {
        showDropdown(true);
        document.addEventListener("click", onDocClick);
    } else {
        showDropdown(false);
        document.removeEventListener("click", onDocClick);
    }
    }

    function onDocClick(event) {
    if (!myTransition.contains(event.target)) {
        toggleVisibility(false);
    }
    }

    toggleBtn.addEventListener("click", function () {
    toggleVisibility(!isVisible);
    });

    toggleBtn.addEventListener("mouseover", function () {
    toggleVisibility(true);
    });

    myTransition.addEventListener("mouseleave", function () {
    toggleVisibility(false);
    });

    document.addEventListener("keydown", function (event) {
    if (event.key === "Enter") {
        toggleVisibility(!isVisible);
    }
    });
</script>
</body>

</html>
